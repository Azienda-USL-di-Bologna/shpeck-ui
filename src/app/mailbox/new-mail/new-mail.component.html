<section class="height-100">
  <!-- <div class="height-100"> -->
    <!-- Prevent default on form to avoid auto submit -->
    <form class="height-100" [formGroup]="mailForm" (ngSubmit)="onSubmit()" (keydown.enter)="$event.preventDefault()">
      <ul class="list-items">
        <!-- A Addresses -->
        <li>
          <label for="addresses" style="padding-right: 9px">A: </label>
          <span class="ui-fluid flex-1 margin-lr-5">
              <p-autoComplete
                required="true" type="email"
                id="addresses" formControlName="addresses" [suggestions]="filteredCountriesMultiple"
                (completeMethod)="filterCountryMultiple($event)" (onKeyUp)="onKeyUp($event, 'addresses')"
                (onSelect)="onSelect($event, 'addresses')" (onUnselect)="onRemove($event, 'addresses')"
                [minLength]="1" placeholder="Seleziona contatti..." field="address" [multiple]="true">
              </p-autoComplete>
          </span>
          <span>
            <button pButton type="button" icon="fa fa-address-book" class="ui-button-rounded custom-primary-button"></button>
          </span>
        </li>
        <!-- CC Addresses -->
        <li>
          <label for="ccAddresses">CC: </label>
          <span class="ui-fluid flex-1 margin-lr-5">
            <p-autoComplete
              type="email"
              id="ccAddresses" formControlName="ccAddresses" [suggestions]="filteredCountriesMultiple"
              (completeMethod)="filterCountryMultiple($event)" (onKeyUp)="onKeyUp($event, 'ccAddresses')"
              (onSelect)="onSelect($event, 'ccAddresses')" (onUnselect)="onRemove($event, 'ccAddresses')"
              [minLength]="1" field="address" [multiple]="true">
            </p-autoComplete>
          </span>
          <span>
            <button pButton type="button" icon="fa fa-address-book" class="ui-button-rounded custom-primary-button"></button>
          </span>
        </li>
        <!-- Destinatari Privati -->
        <li>
          <label for="hideRecipients">Destinatari privati: </label>
          <span class="ui-fluid margin-lr-5">
            <p-checkbox id="hideRecipients" formControlName="hideRecipients" binary="true"></p-checkbox>
          </span>
        </li>
        <!-- Oggetto -->
        <li>
          <label for="mailObject">Oggetto: </label>
          <span class="ui-fluid flex-1 margin-l-5">
              <input id="mailObject" type="text" size="1000" pInputText formControlName="mailObject">
          </span>
        </li>
        <!-- Allegati -->
        <li>
          <span
            class="ui-fileupload-choose ui-button-secondary custom-border" style="height:33px"
            label="Allega" icon="pi pi-paperclip" pButton>
              <input #fileinput type="file" (change)="onFileChange($event, fileinput)" multiple="multiple">
          </span>
          <span class="ui-fluid flex-1 margin-l-5">
            <p-chips formControlName="attachments" (onRemove)="onRemove($event, 'attachments')">
                <ng-template let-item pTemplate="item">
                    {{item.name}} ({{formatSize(item.size)}}) <i style="margin-right:1.5em"></i>
                </ng-template>
            </p-chips>
          </span>
        </li>
        <!-- Testo Mail -->
        <li class="flex-dir-col" style="margin: 0">
          <label for="mail-text">Testo: </label>
          <span #editor class="ui-fluid d-flex">
            <p-editor id="mail-text" formControlName="mailText"
              [style]="{'overflow':'auto', 'word-break': 'break-word', 'height': '361px','max-height': '361px'}">
            </p-editor>
          </span>
        </li>
      </ul>
      <!-- Footer -->
      <p-footer class="footer-class">
        <button
          type="button" pButton icon="pi pi-save"
          class="ui-button-raised ui-button-secondary button-styles custom-secondary-button"
          label="Salva bozza">
        </button>
        <button
          type="button" pButton icon="pi pi-times"
          class="ui-button-raised ui-button-secondary button-styles custom-secondary-button"
          label="Annulla" >
        </button>
        <button
          type="submit" pButton icon="fa fa-paper-plane"
          class="ui-button-raised ui-button-secondary button-styles custom-secondary-button"
          label="Invia">
        </button>
      </p-footer>
    </form>
  <!-- </div> -->
</section>